<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Puppet Labs Magic League</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.3.0/pure-min.css">
    <link rel="stylesheet" href="css/chosen.min.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/js/chosen.jquery.min.js"></script>
    <script>
      jQuery( document ).ready(function( $ ) {

        playerjson = $.ajax('/api/v1/players', {'async':false}).responseText;
        players = $.parseJSON(playerjson)
        for(var i = 0; i < players.length; i++) {
          item = "<option value=\""+players[i].id+"\">"+players[i].name+"</option>"
          $("#winner").append(item)
          $("#loser").append(item)
        }
        $( "#winner, #loser" ).chosen();

      });
    </script>
  </head>
  <body>

    <h1>Puppet Labs Magic League</h1>

    <form class="pure-form">
      <fieldset>
        <legend>Record a Match</legend>
        <div>
          <select id="winner">
            <option>Winner</option>
          </select>
          won a match against
          <select id="loser">
            <option>Loser</option>
          </select>
          by
          <input type="number" placeholder="2" id="winner-score">
          to
          <input type="number" placeholder="1" id="loser-score">
          <button class="pure-button pure-button-primary">Record this victory for all time!</button>
        </div>
      </fieldset>
    </form>

    <section id="leaderboard">
      <table class="pure-table pure-table-striped pure-table-horizontal">
        <tr>
          <th rowspan="2">Player</th>
          <th colspan="2">Matches</th>
          <th colspan="2">Games</th>
        </tr>
        <tr>
          <th>W</th>
          <th>L</th>
          <th>W</th>
          <th>L</th>
        </tr>
        <tr>
          <td>Scott "Boneshaker" Vandehey</td>
          <td>9</td>
          <td>2</td>
          <td>29</td>
          <td>17</td>
        </tr>
        <tr>
          <td>Branan "Chupacabra" Purvine-Riley</td>
          <td>8</td>
          <td>1</td>
          <td>200</td>
          <td>11</td>
        </tr>
      </table>
    </section>

    <footer>
      <nav class="pure-menu pure-menu-open pure-menu-horizontal">
        <ul>
          <li class="pure-menu-selected"><a href="/">Leaderboard</a></li>
          <li><a href="new.html">Add a New Player</a></li>
        </ul>
      </nav>
    </footer>

  </body>
</html>
